(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6229912"],{"13d5":function(t,e,a){"use strict";var i=a("23e7"),s=a("d58f").left,o=a("a640"),r=a("ae40"),n=a("2d00"),l=a("605d"),c=o("reduce"),d=r("reduce",{1:0}),u=!l&&n>79&&n<83;i({target:"Array",proto:!0,forced:!c||!d||u},{reduce:function(t){return s(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2d02":function(t,e,a){},"622a":function(t,e,a){"use strict";a("66c6")},"66c6":function(t,e,a){},b78f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",[a("div",[a("a-row",[a("a-col",{attrs:{span:11}},[a("a-list",{attrs:{"item-layout":"horizontal"}},[a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.id}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("id")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.name}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("发布单号")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.description}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("描述")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.project_name}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("项目")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.app_name}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("应用")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.create_user_name}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("创建人")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.env_name}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("环境")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.deploy_status_name}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("状态")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.git_url}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("git服务器")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.git_app_id}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("git id")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.git_branch}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("git版本")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.pipeline_url}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("构建流水线url")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.deploy_script_url}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("部署脚本")])])],1),a("a-list-item",[a("a-list-item-meta",{attrs:{description:t.dataSource.zip_package_url}},[a("a",{attrs:{slot:"title"},slot:"title"},[t._v("软件包")])])],1)],1)],1),a("a-col",{attrs:{span:2}}),a("a-col",{attrs:{span:11}},[a("a-timeline",t._l(t.historyDataSource,(function(e,i){return a("a-timeline-item",{key:e.id,attrs:{color:"blue"}},[a("a-icon",{staticStyle:{"font-size":"16px"},attrs:{slot:"dot",type:"clock-circle-o"},slot:"dot"}),a("a-tag",{attrs:{color:"blue"}},[t._v(t._s(e.deploy_status_name))]),a("span",{directives:[{name:"show",rawName:"v-show",value:"Ready"==e.deploy_status_name,expression:"item.deploy_status_name == 'Ready'"}]},[t._v(t._s(e.log))]),a("a-tag",[t._v(t._s(e.create_user))]),t._v(" "+t._s(e.create_date)+" ")],1)})),1)],1)],1)],1)])},s=[],o=(a("b84f"),a("8e44")),r=(a("c1df"),{name:"releaseHistory",data:function(){return{releaseId:"",dataSource:{},historyDataSource:[]}},created:function(){this.releaseId=this.$route.params.releaseId,this.fetchReleaseData(),this.fetchReleaseHistoryData()},methods:{fetchReleaseData:function(){var t=this;o["a"].ReleaseDetail(this.releaseId).then((function(e){var a=e.data;200==e.status&&0==a.code&&(t.dataSource=a.data)}))},fetchReleaseHistoryData:function(){var t=this,e={release_id:this.releaseId};o["a"].ReleaseHistory(e).then((function(e){var a=e.data;200==e.status&&0==a.code&&(t.historyDataSource=a.data.results,console.log(t.historyDataSource))}))}}}),n=r,l=(a("622a"),a("2877")),c=Object(l["a"])(n,i,s,!1,null,"15dad96e",null);e["default"]=c.exports},b84f:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"standard-table"},[a("div",{staticClass:"alert"},[t.selectedRows?a("a-alert",{attrs:{type:"info","show-icon":!0}},[a("div",{staticClass:"message",attrs:{slot:"message"},slot:"message"},[t._v(" 已选择 "),a("a",[t._v(t._s(t.selectedRows.length))]),t._v(" 项 "),a("a",{staticClass:"clear",on:{click:t.onClear}},[t._v("清空")]),t._l(t.needTotalList,(function(e,i){return[e.needTotal?a("div",{key:i},[t._v(" "+t._s(e.title)+"总计 "),a("a",[t._v(t._s(e.customRender?e.customRender(e.total):e.total))])]):t._e()]}))],2)]):t._e()],1),a("a-table",{attrs:{bordered:t.bordered,loading:t.loading,columns:t.columns,dataSource:t.dataSource,rowKey:t.rowKey,pagination:t.pagination,expandedRowKeys:t.expandedRowKeys,expandedRowRender:t.expandedRowRender,rowSelection:t.selectedRows?{selectedRowKeys:t.selectedRowKeys,onChange:t.updateSelect}:void 0},on:{change:t.onChange},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots).filter((function(t){return"expandedRowRender"!==t})),(function(e){return{key:e,fn:function(a,i,s){return[t._t(e,null,null,{text:a,record:i,index:s})]}}})),{key:t.$scopedSlots.expandedRowRender?"expandedRowRender":"",fn:function(e,a,i,s){return[t._t(t.$scopedSlots.expandedRowRender?"expandedRowRender":"",null,null,{record:e,index:a,indent:i,expanded:s})]}}],null,!0)},[t._l(Object.keys(t.$slots),(function(e){return a("template",{slot:e},[t._t(e)],2)}))],2)],1)},s=[],o=(a("4de4"),a("d81d"),a("13d5"),a("5530")),r={name:"bfTable",props:{bordered:Boolean,loading:[Boolean,Object],columns:Array,dataSource:Array,rowKey:{type:[String,Function],default:"key"},pagination:{type:[Object,Boolean],default:!0},selectedRows:Array,expandedRowKeys:Array,expandedRowRender:Function},data:function(){return{needTotalList:[]}},methods:{updateSelect:function(t,e){this.$emit("update:selectedRows",e),this.$emit("selectedRowChange",t,e)},initTotalList:function(t){var e=t.filter((function(t){return t.needTotal})).map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{total:0})}));return e},onClear:function(){this.updateSelect([],[]),this.$emit("clear")},onChange:function(t,e,a,i){var s=i.currentDataSource;this.$emit("change",t,e,a,{currentDataSource:s})}},created:function(){this.needTotalList=this.initTotalList(this.columns)},watch:{selectedRows:function(t){this.needTotalList=this.needTotalList.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{total:t.reduce((function(t,a){return t+a[e.dataIndex]}),0)})}))}},computed:{selectedRowKeys:function(){var t=this;return this.selectedRows.map((function(e){return"function"===typeof t.rowKey?t.rowKey(e):e[t.rowKey]}))}}},n=r,l=(a("dc82"),a("2877")),c=Object(l["a"])(n,i,s,!1,null,"67e74d3c",null);e["a"]=c.exports},d58f:function(t,e,a){var i=a("1c0b"),s=a("7b0b"),o=a("44ad"),r=a("50c4"),n=function(t){return function(e,a,n,l){i(a);var c=s(e),d=o(c),u=r(c.length),m=t?u-1:0,p=t?-1:1;if(n<2)while(1){if(m in d){l=d[m],m+=p;break}if(m+=p,t?m<0:u<=m)throw TypeError("Reduce of empty array with no initial value")}for(;t?m>=0:u>m;m+=p)m in d&&(l=a(l,d[m],m,c));return l}};t.exports={left:n(!1),right:n(!0)}},d81d:function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").map,o=a("1dde"),r=a("ae40"),n=o("map"),l=r("map");i({target:"Array",proto:!0,forced:!n||!l},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},dc82:function(t,e,a){"use strict";a("2d02")}}]);